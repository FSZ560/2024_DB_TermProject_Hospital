## 系統功能介紹
此網站為醫院資訊管理系統，提供院內人員管理病患基本資料、門診、醫護人員、病歷及診斷書等功能，同時也開放民眾查詢門診時段及進行網路掛號服務。

<!-- The SQL code here is based on MariaDB -->

## SQL DDL

* 人類

ID, 姓, 名, 電話, 身分證, 住址, 性別, 生日  
PK : ID

```sql
CREATE TABLE person (
    person_id CHAR(7),
    last_name VARCHAR(20) NOT NULL,
    first_name VARCHAR(20) NOT NULL,
    phone VARCHAR(20) NOT NULL,
    id_card CHAR(10) NOT NULL,
    address VARCHAR(100) NOT NULL, 
    gender CHAR(1) NOT NULL,
    birthday DATE NOT NULL,
    PRIMARY KEY (person_id)
);
```

[person_id]:紀錄登記人的ID，為Primary key
[last_name]:紀錄登記人的姓
[first_name]:紀錄登記人的名
[phone]:紀錄登記人的電話號碼
[id_card]:紀錄登記人的身分證
[address]:紀錄登記人的地址
[gender]:紀錄登記人的性別
[birthday]:紀錄登記人的生日

* 科別

department_id, department_name

```sql
CREATE TABLE department (
    department_id CHAR(7),
    department_name VARCHAR(50) NOT NULL,
    PRIMARY KEY (department_id)
);
```

* 病患資料

ID, 身高, 體重  
PK : ID

```sql
CREATE TABLE patient (
    person_id CHAR(7),
    height DECIMAL(5,2) NOT NULL,
    weight DECIMAL(5,2) NOT NULL,
    PRIMARY KEY (person_id),
    FOREIGN KEY (person_id) REFERENCES person(person_id)
);
```

* 員工資料

ID, 科別, 身分, 薪水  
PK : ID

```sql
CREATE TABLE staff (
    person_id CHAR(7),
    department_id CHAR(7) NOT NULL,
    status VARCHAR(50) NOT NULL,
    salary INT NOT NULL,
    PRIMARY KEY (person_id),
    FOREIGN KEY (person_id) REFERENCES person(person_id),
    FOREIGN KEY (department_id) REFERENCES department(department_id)
);
```

* 門診

ID, 日期, 時段(早中晚), 科別, 地點, 醫生ID 
PK : ID

```sql
CREATE TABLE clinic (
    clinic_id CHAR(7),
    clinic_date DATE NOT NULL,
    period ENUM('morning', 'afternoon', 'evening') NOT NULL,
    department_id CHAR(7) NOT NULL,
    location VARCHAR(100) NOT NULL,
    doctor_id CHAR(7) NOT NULL,
    PRIMARY KEY (clinic_id),
    FOREIGN KEY (department_id) REFERENCES department(department_id),
    FOREIGN KEY (doctor_id) REFERENCES staff(person_id)
);
```

* 病人門診紀錄

records_id, 病人 ID, clinic_id  
PK : records_id

```sql
CREATE TABLE medical_records (
    records_id CHAR(7),
    patient_id CHAR(7) NOT NULL,
    clinic_id CHAR(7) NOT NULL,
    PRIMARY KEY (records_id),
    FOREIGN KEY (patient_id) REFERENCES patient(person_id),
    FOREIGN KEY (clinic_id) REFERENCES clinic(clinic_id)
);
```

* 診斷書  

certificate_id, 診斷結果
PK : certificate_id

```sql
CREATE TABLE medical_certificate (
    certificate_id CHAR(7),
    records_id CHAR(7) NOT NULL UNIQUE,
    prescription TEXT NOT NULL,
    PRIMARY KEY (certificate_id),
    FOREIGN KEY (records_id) REFERENCES medical_records (records_id)
);
```

* 掛號資訊  


```sql
CREATE TABLE appointment (
    appointment_id CHAR(7),
    sequence_no INT AUTO_INCREMENT,
    clinic_id CHAR(7) NOT NULL,
    patient_id CHAR(7) NOT NULL,
    register_time DATETIME NOT NULL,
    PRIMARY KEY (appointment_id),
    FOREIGN KEY (clinic_id) REFERENCES clinic(clinic_id),
    FOREIGN KEY (patient_id) REFERENCES patient(person_id)
);
```

## SQL DML (insert, delete, alter, ...)



## 網站架構

![website_branch_pic](/WebsiteBranchPic.png "website_branch_pic")

## 初步畫面設計



## 工作分配

巫:
黃:
任:
